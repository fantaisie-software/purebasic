<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="author" content="Fantaisie Software">
<link rel="icon" type="image/png" href="https://www.purebasic.com/img/favicon.png">
<title>PureUnit: Automated Testing in PureBasic</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>PureUnit: Automated Testing in PureBasic</h1>
<div class="details">
<span id="author" class="author">Fantaisie Software</span><br>
<span id="email" class="email"><a href="mailto:support@purebasic.com">support@purebasic.com</a></span><br>
<span id="revdate">2020-12-11</span>
<br><span id="revremark">PureBasic v5.73</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_installation">2. Installation</a></li>
<li><a href="#_writing_the_test_code">3. Writing the Test Code</a>
<ul class="sectlevel2">
<li><a href="#_macros">Macros</a></li>
<li><a href="#_macros_with_arguments">Macros with Arguments</a></li>
<li><a href="#_handling_of_included_files">Handling of Included Files</a></li>
<li><a href="#_code_example">Code Example</a></li>
</ul>
</li>
<li><a href="#_command_line_arguments">4. Command-Line Arguments</a>
<ul class="sectlevel2">
<li><a href="#_usage">Usage</a></li>
<li><a href="#_options">Options</a></li>
</ul>
</li>
<li><a href="#_using_the_graphic_user_interface">5. Using the Graphic User Interface</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<!--
*******************************************************************************
* DON'T EDIT THIS DOCUMENT!!! This HTML document was generated from AsciiDoc. *
* If you want to contribute changes, submit them to its AsciiDoc source at:   *
*                                                                             *
* https://github.com/fantaisie-software/purebasic/tree/master/AsciiDoc/       *
*******************************************************************************
-->
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PureUnit allows automated unit testing for PureBasic code with similar concepts to other xUnit frameworks like JUnit.
The basic idea of unit testing is the creation of a set of tests that can run without user interaction so they can be repeated many times during the development process to ensure that the code still does what it is supposed to do.</p>
</div>
<div class="paragraph">
<p>The main reason for the creation of PureUnit was the testing of (user-)libraries for PureBasic, but it can just as well be used to test code written in PureBasic itself.
Because the goal is testing without user interaction, PureUnit is not intended for testing entire application or a finished program, but rater for testing those parts of a program like individual functions, which can be executed separately from the rest of the program, in order to verify their correctness (for example an include file with commonly used functions, etc.).</p>
</div>
<div class="paragraph">
<p>PureUnit consists of a set of keywords (in the form of macros) to write the actual test code and a tool which will analyze the code to extract information, compile and run the test code and report its status back to the user.
The tool comes with both a command-line interface, for use in makefiles or scrips, as well as with a graphical user interface, to allow testing directly from the PureBasic IDE, for example.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Windows version comes as 2 separate executables for console/GUI use.
The reason for this is that a console application on Windows will always open a console window, even when started from File Explorer, which is annoying when using it as a GUI tool.
Therefore, these two files contain the exact same program: one being compiled in console mode, the other in GUI mode.
Similarly, the Mac OSX version comes as <code>PureUnit.app</code> (for GUI use) and as <code>pureunit</code> for console use.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>2. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <code>PureUnit.res</code> needs to be copied the <code>Residents</code> Directory of your PureBasic installation.</p>
</li>
<li>
<p>Optionally, the <code>PureUnitKeywords.txt</code> file can be selected in the preferences of the PureBasic IDE (<span class="menuseq"><b class="menu">Preferences</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Colors</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Custom Keywords</b></span>) as a keyword file to color all PureUnit specific keywords in a separate color.</p>
</li>
<li>
<p>The PureUnit executables can be executed from anywhere.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
PureUnit requires a minimum compiler version of 4.10 due to its use of the compiler interface introduced in that version.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_writing_the_test_code"><a class="anchor" href="#_writing_the_test_code"></a>3. Writing the Test Code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All test code must be written inside procedures.
Code outside of the test procedures will not be executed.
So just like in a DLL there should only be stuff like constant definitions, structures etc. on the main level.
(Note though that PureUnit does not compile the code to a DLL for the tests; the code is compiled to an executable with extra embedded code to execute the tests.)</p>
</div>
<div class="paragraph">
<p>Test procedures are created just like normal procedures but with one of the below described keywords instead of <code>Procedure</code>.
Test procedures MUST have no arguments.
They should have descriptive names (representing what they actually test for), as the names are reported in case of a failure.</p>
</div>
<div class="paragraph">
<p>A test is considered to be passed if the procedure ends normally (or is left with <code>ProcedureReturn</code>).
A test is considered to be failed if the below described <code>Assert()</code> macro fails, the <code>Fail()</code> macro is called, or a runtime error (OnError library) happened.</p>
</div>
<div class="sect2">
<h3 id="_macros"><a class="anchor" href="#_macros"></a>Macros</h3>
<div class="paragraph">
<p>PureUnit adds the following new keywords (as macros without arguments):</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code class="red">ProcedureUnit</code> </dt>
<dd>
<p>A procedure created with this keyword is considered to be a test procedure.</p>
<div class="paragraph">
<p>The test procedures in a given code will be executed in RANDOM order.
The reason for this is to find problems from possible side-effects of the tests which would go unnoticed if the tests always get executed in the same order.
(for example if some test always succeeds just because the test before it sets certain conditions that were not realized when the test code got written)</p>
</div>
</dd>
<dt class="hdlist1"><code class="red">ProcedureUnitStartup</code> </dt>
<dd>
<p>All procedures created with this keyword will be executed at the startup of the compiled program (there can be more than one startup procedure).
Use this to set up global conditions (variables etc.) for all tests.</p>
</dd>
<dt class="hdlist1"><code class="red">ProcedureUnitShutdown</code> </dt>
<dd>
<p>All procedures with this keyword will be executed at the end of all tests.
Note that they will also be executed when the program ends because of a failed test.
Use this to do any cleanup after the tests.</p>
</dd>
<dt class="hdlist1"><code class="red">ProcedureUnitBefore</code> </dt>
<dd>
<p>All procedures with this keyword will be executed before every single test.
Use this to do preparations that should be done before every test separately.</p>
</dd>
<dt class="hdlist1"><code class="red">ProcedureUnitAfter</code> </dt>
<dd>
<p>All procedures with this keyword will be executed after every single test.
(also after a failed test.)</p>
</dd>
<dt class="hdlist1"><code class="red">EndProcedureUnit</code> </dt>
<dd>
<p>This keyword has no special meaning to PureUnit.
It is just defined as a macro for <code>EndProcedure</code> to have a matching end keyword (<code>ProcedureUnit</code>/<code>EndProcedureUnit</code>).
Using this or <code>EndProcedure</code> makes no difference whatsoever.
It&#8217;s there just for aesthetic reasons.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_macros_with_arguments"><a class="anchor" href="#_macros_with_arguments"></a>Macros with Arguments</h3>
<div class="paragraph">
<p>PureUnit adds the following new macros with arguments:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code class="red">Assert( &lt;expression&gt; [, Message$] )</code> </dt>
<dd>
<p>This is the central macro of the testing concept.
It is used to check all conditions that must be true for the test to succeed.
If any of the conditions is found to be false, the entire test is considered to have failed.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>&lt;expression&gt;</code> can be any expression that evaluates to true (nonzero) or false (zero).
Since the macro evaluates the expression with an <code>If</code> statement, the logical operators <code>And</code>, <code>Or</code>, <code>XOr</code> and <code>Not</code> can be used.</p>
</div>
<div class="paragraph">
<p><code>Message$</code> is an optional argument that can contain a message to be shown (in the test protocol or in the console) if the <code>Assert</code> fails.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlight"><code class="language-PureBasic" data-lang="PureBasic">Assert(MyVariable = 123 And aFunction() = 0)</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><code class="red">AssertString( String1$, String2$ [, Message$] )</code> </dt>
<dd>
<p>This is a special macro intended to test results from string functions inside (user-)libraries.
For any other purpose, <code>Assert(String1$ = String2$)</code> will work just fine.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Detailed Information</div>
<div class="paragraph">
<p>If a string function inside a library does not correctly allocate the internal string buffer (i.e. allocating more characters than are actually filled), the result will look just fine if seen as a single value.
It will however become wrong if the string function result is added together with other strings (because there will be a NULL character inside the string then).</p>
</div>
<div class="paragraph">
<p>In order to test for this exact situation in a convenient way, this macro actually maps to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-PureBasic" data-lang="PureBasic">Assert(Chr(1)+String1$+Chr(1) = Chr(1)+String2$+Chr(1))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since this situation cannot happen with PB code directly, there is no need to use this macro to test string equality in normal PB code.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><code class="red">Fail( [Message$] )</code> </dt>
<dd>
<p>If this macro is executed, the test will be considered as having failed, and the specified optional message will be reported.
It is used to indicate failure if the test code reaches a position that it is not supposed to reach.</p>
</dd>
<dt class="hdlist1"><code class="red">UnitDebug( String$ )</code> </dt>
<dd>
<p>Since the tests are executed without debugger (because the debugger is an interactive tool), there is no quick and dirty way like <code>Debug &#8230;&#8203;</code> to print information.
This command will show the specified string in the GUI in a different color and also list this output in the HTML report.</p>
</dd>
</dl>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This command should <em>not</em> be used for extensive output, like test results or similar&#8201;&#8212;&#8201;remember that the goal is unattended automated testing!</p>
</div>
<div class="paragraph">
<p>This is rather meant as a quick way to provide some output when tracking a problem in the test code, etc.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code class="red">PureUnitOptions( Option1 [, Option2 [, &#8230;&#8203;]])</code> </dt>
<dd>
<p>This macro controls the compilation of the source code for testing.
It&#8217;s the only macro that should only appear once in each test code.
If this macro is not present, or if no flags are specified, the code will be compiled/tested twice: once normally and once in Unicode mode.
The following flags are possible:</p>
<div class="openblock">
<div class="content">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>NoUnicode</code>         
</td>
<td class="hdlist2">
<p>&#8594; no Unicode tests.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>Thread</code>            
</td>
<td class="hdlist2">
<p>&#8594; test also in thread mode.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>SubSystem[&lt;name&gt;]</code> 
</td>
<td class="hdlist2">
<p>&#8594; test also with the given subsystem.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The code will be compiled in all possible combinations of the given flags (on/off), so when using <code>PureUnitOptions(Thread)</code>, the code will be compiled once normally, once in Unicode mode, once in thread mode, and once in thread+Unicode mode.
So every added option (except for <code>NoUnicode</code>) actually doubles the number of times the given test source is compiled/executed.
This can be a speed concern when carrying out many tests, so only those options which are truly needed should be enabled here.</p>
</div>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_handling_of_included_files"><a class="anchor" href="#_handling_of_included_files"></a>Handling of Included Files</h3>
<div class="paragraph">
<p>PureUnit needs to parse the source code in order to know about the used test-procedures, etc.
The parser does not do a full analysis of the code, so there are some limits to what it can handle, especially when it comes to include files.
The parser does handle correctly <code>IncludePath</code> and (<code>X</code>)<code>IncludeFile</code> statements, but only as long as the paths are given as literal strings.
The parser does NOT resolve constants or macros and also it does not take care of compiler directives like <code>CompilerIf</code>.
So <code>IncludePath</code> and (<code>X</code>)<code>IncludeFile</code> can be used in test code (to include common startup code for example), even in nested files, but they may only contain literal strings.</p>
</div>
</div>
<div class="sect2">
<h3 id="_code_example"><a class="anchor" href="#_code_example"></a>Code Example</h3>
<div class="paragraph">
<p>Note that everything in the example is optional, except that one <code>ProcedureUnit</code> must be present otherwise the file is skipped (which makes sense, since in that case there would be no tests).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-PureBasic" data-lang="PureBasic">; Set the options. This Code will be compiled/tested once normally and once with the OpenGl subsystem:
;
PureUnitOptions(NoUnicode, SubSystem[OpenGl])

; called once on program start
;
ProcedureUnitStartup startup()
  UnitDebug("Startup...")
EndProcedureUnit

; called once on program end
;
ProcedureUnitShutdown shutdown()
  UnitDebug("Shutdown...")
EndProcedureUnit

; Same goes for ProcedureUnitBefore / ProcedureUnitAfter

; Here comes our test procedure
;
ProcedureUnit mytest()

  Assert(#True &lt;&gt; #False, "If this fails, the world has gone crazy :)")

  For i = 1 To 10
    Continue
    Fail("This point should never be reaced")
  Next i

  ; here our test will fail.
  Assert(#True = #False, "This is bound to fail!")

EndProcedureUnit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that all PureUnit macros have a fallback to Messagerequester/Debugger display if the code is not executed from within PureUnit.
This allows any PureUnit test code to be executed from the Editor or compiler without PureUnit for quick syntax checks or debugging while creating the test code.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_line_arguments"><a class="anchor" href="#_command_line_arguments"></a>4. Command-Line Arguments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PureUnit supports on all OSs the POSIX-style short and long versions of the command-line arguments described below (but not combining short versions: e.g. <code>-x -y -z</code> does not equal <code>-xyz</code>).
The Windows style command-line parameters (e.g. <code>/HELP</code>) are only supported by the Windows version though.
For portable testing, the POSIX-style arguments should be preferred.</p>
</div>
<div class="paragraph">
<p>On exit, PureUnit returns a standard exit code to indicate success (0) or failure (1) of the tests to allow running test from scripts or makefiles.
When executed without any command-line options, PureUnit will enter GUI mode and display a window which allows the selections of files/folders for testing.</p>
</div>
<div class="sect2">
<h3 id="_usage"><a class="anchor" href="#_usage"></a>Usage</h3>
<div class="literalblock">
<div class="content">
<pre>pureunit [Options] TestFiles</pre>
</div>
</div>
<div class="paragraph">
<p>Wildcards are allowed to specify multiple TestFiles for testing easily.</p>
</div>
</div>
<div class="sect2">
<h3 id="_options"><a class="anchor" href="#_options"></a>Options</h3>
<div class="literalblock">
<div class="content">
<pre>-c         &lt;compiler&gt;
--compiler &lt;compiler&gt;
/COMPILER  &lt;compiler&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This option allows to specify the PureBasic compiler to use for compilation.
If this option is not specified, PureUnit will try to locate a compiler to use in the following places in the given order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>PUREBASIC_HOME</code> environment variable.</p>
</li>
<li>
<p>The <code>PATH</code> environment variable.</p>
</li>
<li>
<p>The Registry (Windows only).</p>
</li>
<li>
<p>The fixed path <code>/usr/share/purebasic</code> (Linux and OSX only).</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The compiler must have a version of 4.10 or higher to work with PureUnit.
</td>
</tr>
</table>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>-f      &lt;listfile&gt;
--files &lt;listfile&gt;
/FILES  &lt;listfile&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Specify a file that contains a list of source files for testing.
The file should contain one entry per line.
Wildcards are allowed.</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>-g
--gui
/GUI</pre>
</div>
</div>
<div class="paragraph">
<p>With this switch present, PureUnit will not output anything on the console, but rather display a window to show the progress and information messages.
Without this switch, messages are printed on the console only.
This switch is useful to configure PureUnit as a tool for the PureBasic IDE, for example.</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>-v
--verbose
/VERBOSE</pre>
</div>
</div>
<div class="paragraph">
<p>Increases the verbosity of the output.
(For example, prints the currently running test and similar information instead of just error messages as it is in normal mode.)</p>
</div>
<div class="paragraph">
<p>This affects the console mode only.</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>-q
--quiet
/QUIET</pre>
</div>
</div>
<div class="paragraph">
<p>Hides all warning messages.
(Warning messages appear when the parser skips a file and similar minor issues)</p>
</div>
<div class="paragraph">
<p>This affects both console and GUI mode.</p>
</div>
<hr>
<div id="switch-ignore" class="literalblock">
<div class="content">
<pre>-i
--ignore
/IGNORE</pre>
</div>
</div>
<div class="paragraph">
<p>With this switch set, the testing does not stop with a failed test but continues until all tests have been executed.</p>
</div>
<div class="paragraph">
<p>The normal behavior is to quit testing at the first failed test, since a failed test is considered fatal.
This switch, however, allows to change this in order to get an overview of how many tests actually do fail in a test code.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a test fails, PureUnit will call the <code>&#8230;&#8203;After</code> and <code>&#8230;&#8203;Shutdown</code> procedures and then terminate the testing executable no matter if this switch is set or not.</p>
</div>
<div class="paragraph">
<p>If this switch is set, PureUnit will restart the executable.
Call the <code>&#8230;&#8203;Startup</code> Procedures again and then keep executing the remaining tests in the executable.
The reason for this is to provide a clean state of the program for the remaining tests, as the failed test could have messed up the state of the program.
(For example, if the failure was a stack problem/memory error reported by the OnError library, the remaining tests could fail as well, just because of this stack problem.)</p>
</div>
</td>
</tr>
</table>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>-r       &lt;html file&gt;
--report &lt;html file&gt;
/REPORT  &lt;html file&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This switch creates a test report in HTML format in the given file.</p>
</div>
<div class="paragraph">
<p>Note that in GUI mode, there is also an option to view/save this report after the tests have been done.</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>-v
--version
/VERSION</pre>
</div>
</div>
<div class="paragraph">
<p>Displays version information and quits.</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>-h
--help
/HELP
/?</pre>
</div>
</div>
<div class="paragraph">
<p>Displays command-line arguments and quits.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_graphic_user_interface"><a class="anchor" href="#_using_the_graphic_user_interface"></a>5. Using the Graphic User Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Starting PureUnit without any command-line options will launch it in GUI mode.
The settings entered there will be saved in <code>PureUnit.prefs</code> in the standard location for PureBasic preference files.</p>
</div>
<div class="paragraph">
<p>The GUI provides the following options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="red">Compiler Executable</span> </dt>
<dd>
<p>Select the compiler to use.
Must be of version 4.10 or above.</p>
</dd>
<dt class="hdlist1"><span class="red">Source Directory</span> </dt>
<dd>
<p>Select the base directory in which to look for files to test.</p>
</dd>
<dt class="hdlist1"><span class="red">Source Pattern</span> </dt>
<dd>
<p>Select the pattern to search for when processing a whole directory.</p>
</dd>
<dt class="hdlist1"><span class="red">Process the whole directory</span> </dt>
<dd>
<p>With this switch set, all files in &#8216;Source Directory&#8217; matching &#8216;Source Pattern&#8217; will be tested.
Without this switch, you will be prompted to select a file for testing when &#8216;Start&#8217; is pressed.</p>
</dd>
<dt class="hdlist1"><span class="red">Include subdirectories</span> </dt>
<dd>
<p>Recursively scans subdirectories for files to be tested.</p>
</dd>
<dt class="hdlist1"><span class="red">Do not abort on errors</span> </dt>
<dd>
<p>Same as the <code>--ignore</code> command-line switch.
<a href="#switch-ignore">See there</a> for more information.</p>
</dd>
<dt class="hdlist1"><span class="red">Hide warnings</span> </dt>
<dd>
<p>Hides warning messages.
Same as the <code>--quiet</code> command-line switch.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After pressing &#8216;Start&#8217; (and selecting a test file if needed), a progress window will be displayed showing log and debug messages while the tests are executed.
After finishing
or aborting the tests, a report in HTML format can be viewed or saved.</p>
</div>
<div class="paragraph">
<p>Starting PureUnit with options on the command-line (including the <code>--gui</code> switch) will cause PureUnit to directly show the progress window and start the testing with the provided command-line options.</p>
</div>
<div class="exampleblock">
<div class="content">
<h3 id="_contributing_and_support" class="discrete">Contributing and Support</h3>
<div class="paragraph">
<p>Feel free to contribute to this document by submitting your own fixes and improvements via <a href="https://git-scm.com/" title="Visit Git&#8217;s website" target="_blank" rel="noopener">Git</a> and creating a pull request on the <a href="https://github.com/fantaisie-software/purebasic" title="Visit the PureBasic Open Source repository on GitHub" target="_blank" rel="noopener"><strong>PureBasic Open Source</strong></a> repository:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/fantaisie-software/purebasic/tree/devel/AsciiDoc/PureUnit-Help.asciidoc" class="bare" title="View the AsciiDoc source of this document on GitHub" target="_blank" rel="noopener">https://github.com/fantaisie-software/purebasic/tree/devel/AsciiDoc/PureUnit-Help.asciidoc</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you have any questions, remarks or suggestions, just write to: &lt;<a href="mailto:support@purebasic.com">support@purebasic.com</a>&gt;.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>